<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //syntax
        let fruit = ['apple', 'drink', 'lemon'];
        fruit[0] = 'Pear'//changed the first value to pear ['pear', 'drink', 'lemon']
        //to access the last element we use fruit[fruit.length-1]
        console.log(fruit)// apple, drink, lemon
        console.log(fruit[fruit.length-1])//lemon
        //or fruits.at(-1)

        //an array store element of any type
        let differentValue = ['Apple', {name: 'John'}, function(){console.log('hello')}]

        //array methods
        //pop(): remove the last element
        //push(): add the element to the end of the array
        //shift(): remove the first element
        //unshift(): add the element to the beginning of the array
        //example
        let familyMember = ['Muhammad', 'Aisha','Maryam', 'Abdullah'];
        familyMember.pop();
        console.log(familyMember);
        //['Muhammad', 'Aisha','Maryam']
        console.log(familyMember.push('Abdullah'))//['Muhammad', 'Aisha','Maryam', 'Abdullah']
        familyMember.shift()
        console.log(familyMember)
        //[ 'Aisha','Maryam', 'Abdullah']
        console.log(familyMember.unshift('Muhammad'))//['Muhammad', 'Aisha','Maryam', 'Abdullah'];

        //loops
        let arr = ["Apple", "Orange", "Pear"];
        for (let i = 0; i < arr.length; i++){
            console.log(arr[i]);
        }
        for (let array of arr){
            console.log(array)
        }

        //array operation
        let style = ['Jazz','Blues']
        style.push('Rock-n-Roll')
        style[Math.floor((style.length - 1) / 2)] = "Classics";
        console.log(style)
        console.log(style.pop())
        style.unshift('Rap', 'Reggae')
        console.log(style)
        //sum input number
        /*
        function sumInput(){
            let results = [];
            while (true){
                value = prompt('input a number');
                if (value == ''||value == null)break;
                results.push(+value)
            }
            let sum = 0;
            for (let result of results){
                sum += result
            }
            return sum
        }
            
        console.log(sumInput())
        */
        //array methods
        //1. array.splice()
        let arR = ['I', 'study', 'Javascript'];
        arR.splice(2, 1, 'frontend', 'development')
        //meaning starting from index 0 remove 1 element
        console.log(arR);//i study frontend development
        let aRr = ['I', 'study', 'Javascript'];
        aRr.splice(2, 0, 'complex', 'language');
        //meaning starting from index 2 remove 0 element
        console.log(aRr)//i study complex language javascript

        //2. array.slice(start, end)
        let AbFam = ['maryam', 'Aisha', 'Abdullah', 'Muhammad'];
        //start from index 1 to index 3 but dont copy index 3 
        let AbFam2 = AbFam.slice(1,3)
        console.log(AbFam2)//Aisha and Abdullahi
        //start from index 0 to index 2 but don't copy index 2
        let AbFam3 = AbFam.slice(0,2)
        console.log(AbFam3)//Maryam and Aisha

        //3. concat

        let users = [
            {id:1, name: 'john'},
            {id:2, name: 'james'},
            {id:3, name: 'Mary'},
        ];
        //let user = users.find(item => item.id == 1);
        let user = users.find(function(item){
            return item.id == 1
        });
        console.log(user.name);
        let useR = users.findIndex(item => item.name == 'james');
        console.log(useR);

        let insideUser = users.filter(item => item.id > 1);
        console.log(insideUser)

        const cities = ['madrid', 'vancouver', 'mumbai', 'new york'];
        let mCity = cities.filter(item => item.startsWith('m'));
        console.log(mCity) 

        const practice = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];
        const evenNumber = practice.filter((even) => {
            if (even % 2 === 0){
                return true
            }
        });
        console.log(practice);
        console.log(evenNumber);

        let Prices = [1.23, 19.99, 85.2, 32.87, 8, 5.2];
        const lowPrices = Prices.filter(item => {
            if (item * 1.15 < 10){
                return item * 1.15
            }
        }) 
        console.log(lowPrices);

        const countries = ['france', 'South Africa', 'Brazil', 'United State', 'Sweden'];
        const country = countries.filter((item) => item.includes(' '));
        console.log(countries);
        console.log(country);

        //array.map 
        const array1 = [1, 5, 6, 9];
        let map1 = array1.map(item => item * 2);
        console.log(array1);
        console.log(map1);//2,10,12,18

        const bools = ['true', 'true', 'false', 'true' ,'false', 'false' ];
        const boolsMap = bools.map(item => {
            if (item === 'true'){
                return Math.random()
            }
                return 0
        })
        console.log(boolsMap);

        const prices = [1, 23, 19, 99, 85, 2, 32, 87, 8, 5, 2];
        const taxedPrice = prices.map(item => {
            if(item > 10){
             return Math.round(item * 1.2)
            } 
            return item
        })
        console.log(taxedPrice);

        const items = ['light', 'banana', 'phone', 'book', 'mouse'];
        const plurals = items.map(item => {
            if(item === 'mouse'){
                return 'mice'
            } else {
                return item + 's'
            }
        })
        console.log(plurals);
        /*if (a > b) return 1; // if the first value is greater than the second
        if (a == b) return 0; // if values are equal
        if (a < b) return -1; // if the first value is less than the second
        arr.sort if result is negative a is sorted before b
        */
        let ar = [1, 3, 6];
        let sortAr = ar.sort((a, b) => a - b)

        let names = 'Bilbo, Gandalf, Nazgul';

        let Arr = names.split(', ');
        for (let key of Arr){
            console.log([key]);
        }
        console.log(Arr);

        const values = [[1, 2, 3], [0, 0, 1], [3, 6, 9], [0, 1, 2]];
        const hasTwos = values.filter(item => {
            if (item.includes(2)){
                return true
            }
                return false
        });
        console.log(hasTwos);

        const nums = [10, 20, 30, 40, 50];
        const timesTwo = nums.map(item => item*2)
        const over50 = timesTwo.filter(item => item > 50);
        console.log(nums);
        console.log(timesTwo);
        console.log(over50);

        //Task 1//[background, color]
        function camelize(str){
            return str
            .split('-')
            .map((word, index) => index == 0? word: word[0]
            .toUpperCase() + word.slice(1)).join('')
        }
        console.log(camelize('background-color'));

        //Task 2
        let aR = [5, 3, 8, 1];
        /*function filterRange(aR, a, b){
            let filter = aR.filter(item => {
                if (item > a && item < b){
                    return true
                }
            }) 
            return filter
        };
        let answer = filterRange(aR, 2, 8);
        console.log(answer);
        */
        function filterRangeInPlace(aR, a, b){
            let filter = aR.filter(item => {
                if (item > a && item < b){
                    return true
                }
            }) 
            aR = filter
            return filter
        }
        let answer = filterRangeInPlace(aR, 2, 8);
        console.log(aR)
        console.log(answer);
        let myArray = [5, 2, 1, -10, 8];
        let tt = myArray.sort((a,b) => b - a )
        console.log(tt)

        //task 4
        let value =["HTML", "JavaScript", "CSS"];

        function copySorted(arr){
            return arr.sort((a, b) => a.localeCompare(b))
        }
        console.log(copySorted(value));

        //task 4
        let john = { name: "John", surname: "Smith",  age: 25, id: 1};
        let pete = { name: "Pete", surname: "Smith", age: 30, id: 2};
        let mary = { name: "Mary", surname: "Smith", age: 28, id: 3};

        let Users = [ pete, john, mary ];
        //let  name = Users.map(item => item.name);
        //console.log(name);

        let userMapped = Users.map(item => ({
            fullName: `${item.name} ${item.surname}`,
            id: item.id
        }));
        console.log(userMapped);
        function sortByAge(arr){
            arr.sort()
        }
        //sort(function(a, b) 
        function sortByAge(arr){
            return arr.sort((a,b) => a.age - b.age)
        }
        console.log(sortByAge(Users));

        let AR = [3, 2, 1];
        function shuffleArray(arr) {
            let options = Math.random();
            if (options < (1/3)){
                return arr.sort((a, b) => b - a)
            } else if (options > (1/3) && options < (2/3)){
                return arr.sort((a, b) => a - b)
            } else if (options > (2/3)){
                return arr.sort((a, b) => b - a)
            }
        }
        console.log(shuffleArray(AR));
        console.log(shuffleArray(AR));

        function getAverageAge(users){
            return users.reduce((sum, current) => sum + current.age, 0)/(users.length);
        }
        console.log(getAverageAge(Users));


        let strings = ["Hare", "Krishna", "Hare", "Krishna",
        "Krishna", "Krishna", "Hare", "Hare", ":-O"
        ];
        function unique(arr) {
            let total = [];
            for (str of strings){
                if (!total.includes(str)){
                    total.push(str)
                }
            }
            return total
        }
        console.log(unique(strings));
        let USERS = [
            {id: 'john', name: "John Smith", age: 20},
            {id: 'ann', name: "Ann Smith", age: 24},
            {id: 'pete', name: "Pete Peterson", age: 31},
        ];
        function groupById(arr) {
            let userById = {};
            for (let array of arr){
                userById[array.id] = array
            }
            return userById
        }
        console.log(groupById(USERS));

        const jonas = [
            'jonas',
            'Schmedtmann',
            2037 - 1991,
            'teacher',
            ['Michel', 'Peter', 'Steven'],
            true
        ];
        const type = [];
        for (let i = 0; i < jonas.length; i++){
            type.push(typeof jonas[i])
        }
        console.log(type);
        let years = [1991, 2007, 1969, 2020];
        let ages = []
        for (let i = 0; i < years.length; i++){
            let calcAge = 2024 - years[i];
            ages.push(calcAge)
        }
        console.log(ages);


        let billValue = calcTip(100);
        let bills = [22, 295, 176, 440, 37, 105, 10, 1100, 86, 52]
        let tip = [];
        let totals = [];

        function calcTip(bill) {
            if(bill > 50 && bill < 300){
                return Math.round(bill*0.15)
            } else{
                return Math.round(bill*0.2)
            }
        }
        for (let i = 0; i < bills.length; i++){
            tip.push(calcTip(bills[i]));
            totals.push(calcTip(bills[i] + tip[i]))
        }
        console.log(tip);
        console.log(totals);
        let rr = [2, 3, 7]
        function calculateAverage(arr) {
            let theSum = 0;
            for (let i = 0; i < arr.length; i++){
                theSum += arr[i]
            }
            return theSum/arr.length
        }
        console.log(Math.round(calculateAverage(rr)));

        let arr01 = ['num1', 'num2', 'num3', 'num4'];
        //console.log(arr01.splice(0, 2));//'num1', 'num2',
        //console.log(arr01);//'num3', 'num4',
        console.log(arr01.slice(1, 3));
        console.log(arr01);
        let conc = arr01.concat([5, 6], 7, 8)
        //let [...conc] = [...arr01, 5, 6]
        console.log(conc);

        const movement = [200, 450, -400, 3000, -650, -130, 70, 1300];
        movement.forEach(function (item){
            if(item > 0){
                console.log(`You deposited ${item} amount`)
            } else{
                console.log(`You withdrew ${item} amount`);
            }
        });

        let students = [
            {id: 1, name: 'John'},
            {id: 2, name: 'Muhammad'},
            {id: 3, name: 'Shawn'},
        ]

        let newStud = students.find(function(item){
            return item.id == 1
        });
        let anotherStud = students.filter(function(item) {
            return item.id < 3
        })
        console.log(newStud);
        console.log(anotherStud);

        let points = [55, 56, 57, 58, 59, 60];
        let sum = points.reduce(function(accumulator, item){
            return accumulator + item
        });
        console.log(sum);

        let companies = ['apple', 'tesla', 'space', 'amazon', 'meta', 'google'];
        let modded = companies.reduce(function(accumulator, item){
            if (!item.startsWith('a')){
                return result + company + '-'
            }
            return result
        });
        console.log(accumulator);
    </script>
</body>
</html>